 <!DOCTYPE html> <html> <head> <?php include("data/dbConnect.php"); include("libraries/WrapMySQL.php"); include("libraries/Parsedown.php"); ?> <link href="/styles/fontawesome.min.css" rel="stylesheet" /> <link href="/styles/style.min.css" rel="stylesheet" /> <link href="/styles/staggeredFade.min.css" rel="stylesheet" /> <link href="/styles/textElements.min.css" rel="stylesheet" /> <link href="/styles/formElements.min.css" rel="stylesheet" /> <link href="/styles/layoutGeneral.min.css" rel="stylesheet" /> <meta name="viewport" content="width=device-width" /> <link href="/styles/layoutIFramePage.css" rel="stylesheet" /> </head> <body> <main> <div class="stagFade"> <?php      $sql = new WrapMySQL(getenv("DBHost"),getenv("DBName"),getenv("DBUser"),getenv("DBPass"));     $sql->Open();      $parsedown = new Parsedown();     $parsedown->setSafeMode(true);      if(!isset($_GET['q'])):               if(isset($_GET['project']))         {             $projectID = $_GET['project'];             $project = $sql->ExecuteQueryRow("SELECT * FROM projects WHERE ProjectID = ?", $projectID);              if(count($project) == 0) die();               if(isset($_GET['search']))             {                 $faqTopic = $sql->ExecuteQuery("SELECT * FROM faq WHERE ProjectID = ? AND Keywords LIKE ?", $projectID, '%'.$_GET['search'].'%');                 $faqGeneral = $sql->ExecuteQuery("SELECT * FROM faq WHERE ProjectID = '' AND Keywords LIKE ?", '%'.$_GET['search'].'%');             }             else             {                 $faqTopic = $sql->ExecuteQuery("SELECT * FROM faq WHERE ProjectID = ?", $projectID);                 $faqGeneral = $sql->ExecuteQuery("SELECT * FROM faq WHERE ProjectID = ''");             }         }         else         {             die();         }      ?> <h2><?= $project["ProjectName"]?>:</h2> <?php if(count($faqTopic) > 0): ?> <ul class="faqContainer"> <?php foreach($faqTopic as $faq): ?> <li> <div class="votes"> <span class="voteCounter">0</span> </div> <a href="?q=<?= $faq["ID"] ?>&project=<?= htmlspecialchars($_GET['project']) ?>" title="Click to see the full entry"> <div class="faq"> <b><?= $faq["Question"] ?></b> <p><?= $faq["Answer"] ?></p> </div> </a> </li> <?php endforeach; ?> </ul> <?php else: ?> <h3>Sorry, there are no questions yet. </h3> <?php endif; ?> <br /> <h2>General Questions:</h2> <?php if(count($faqGeneral) > 0): ?> <ul class="faqContainer"> <?php foreach($faqGeneral as $faq): ?> <li> <div class="votes"> <span class="voteCounter">0</span> </div> <a href="?q=<?= $faq["ID"] ?>&project=<?=  htmlspecialchars($_GET['project']) ?>" title="Click to see the full entry"> <div class="faq"> <b><?= $faq["Question"] ?></b> <p><?= $faq["Answer"] ?></p> </div> </a> </li> <?php endforeach; ?> </ul> <?php else: ?> <h3>Sorry, there are no questions yet.</h3> <?php endif; ?> <?php else: ?> <?php               $faq = $sql->ExecuteQueryRow("SELECT * FROM faq WHERE ID = ?", $_GET['q']);         if(count($faq) == 0) die();         ?> <h2><?= $parsedown->text($faq["Question"]) ?></h2> <p> <?= $parsedown->text($faq["Answer"]) ?> </p> <?php endif; ?> <?php if((isset($_GET['search']) OR isset($_GET['q'])) AND isset($_GET['project'])): ?> <br /> <h3 style="font-size: 16pt;"><a href="?project=<?= htmlspecialchars($_GET['project']) ?>">Click here to see all FAQ-entries.</a></h3> <?php endif; ?> </div> </main> </body> </html>