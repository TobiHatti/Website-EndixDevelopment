 <!DOCTYPE html> <html> <head> <?php include("data/dbConnect.php"); include("libraries/WrapMySQL.php"); include("libraries/Parsedown.php"); ?> <link href="/styles/fontawesome.min.css" rel="stylesheet" /> <link href="/styles/style.min.css" rel="stylesheet" /> <link href="/styles/staggeredFade.min.css" rel="stylesheet" /> <link href="/styles/textElements.min.css" rel="stylesheet" /> <link href="/styles/formElements.min.css" rel="stylesheet" /> <link href="/styles/layoutGeneral.min.css" rel="stylesheet" /> <script src="/scripts/PageLayout.js"></script> <script src="/scripts/CommonScripts.js"></script> <meta name="viewport" content="width=device-width" /> <title>Projects | Endev</title> <link href="/styles/layoutAdvancedProject.css" rel="stylesheet" /> </head> <body> <header style="overflow: hidden;"> <div id="headerBGImage"></div> <div id="bannerCover" style="opacity: 0.5"> </div> <h1 id="headerProjectTitle"></h1> <a href="/"> <div class="endevLogo" id="endevLogo"></div> <div class="endevLogoSticky" id="endevLogoSticky"></div> </a> <nav class="default"> <div class="fullWidthMenu"> <a href="/">Home</a> <a href="/projects">Projects</a> <a href="/support">Support</a> <a href="/downloads">Downloads</a> <a href="/contact">Contact</a> <a href="/more">More</a> </div> <div class="mobileMenu stagFade"> <label for="toggleMobileMenuOverlay"><span>Projects</span><a><i class="fa fa-bars"></i></a></label> <input type="checkbox" id="toggleMobileMenuOverlay" onchange="ShowElementIfChecked(this, 'mobileMenuOverlay')"/> <div class="mobileMenuOverlay" id="mobileMenuOverlay"> <a href="/">Home</a> <a href="/projects">Projects</a> <a href="/support">Support</a> <a href="/downloads">Downloads</a> <a href="/contact">Contact</a> <a href="/more">More</a> <label for="toggleMobileMenuOverlay"><a>Close</a></label> </div> </div> </nav> <nav class="default" style="display: none;"></nav> </header> <main> <?php                                                                 
if(isset($_GET['projectID'])) $projectID = $_GET['projectID']; else {     header("Location: /projects");     die(); }  $sql = new WrapMySQL(getenv("DBHost"),getenv("DBName"),getenv("DBUser"),getenv("DBPass")); $sql->Open();                                                                  
$project = $sql->ExecuteQuery("SELECT * FROM projects WHERE ProjectID = ?", $projectID); if(count($project) == 0) {     header("Location: /projects2");     die(); } else $project = $project[0]; ?> <aside> <ul> <li onclick="SelectProjectPage(0)"><i class="fas fa-home"></i> <span>Overview</span></li> <li onclick="SelectProjectPage(1)"><i class="fas fa-headset"></i> <span>Support &amp; FAQ</span></li> <li onclick="SelectProjectPage(2)"><i class="fas fa-exclamation-circle"></i> <span>Issues</span></li> <li onclick="SelectProjectPage(3)"><i class="fas fa-download"></i> <span>Downloads</span></li> <li onclick="SelectProjectPage(4)"><i class="fas fa-history"></i> <span>Version History</span></li> <li onclick="SelectProjectPage(5)"><i class="fas fa-book-reader"></i> <span>Readme</span></li> <li onclick="SelectProjectPage(6)"><i class="fas fa-cogs"></i> <span>Tech. Information</span></li> <li onclick="SelectProjectPage(7)"><i class="fas fa-file-alt"></i> <span>Licence</span></li> </ul> </aside> <script>     SetProjectTitle("<?= $project["ProjectNameShort"]?>");     SetProjectBanner("<?= $project["ProjectBanner"]?>"); </script> <?php   function TabPageSelected($tabIndex, $isDefaultTab = false) {     if(isset($_GET['page']) AND $_GET['page'] >= 0 AND $_GET['page'] <= 7)     {         if($_GET['page'] == $tabIndex) return "block";         else return "none";     }     else if($isDefaultTab) return "block";     else return "none"; }  function GetGithubRawFromGithubProject($githubLink) {     return str_replace("https://github.com/", "", $githubLink); }  ?> <h1><?= $project["ProjectName"]?> </h1> <hr /> <div class="projectSubpageContainer"> <div class="projectSubpage" style="display: <?= TabPageSelected(0, true) ?>"> <h1>Overview</h1> <?= $project["ProjectDescription"] ?> </div> <div class="projectSubpage" style="display: <?= TabPageSelected(1) ?>"> <h1>Support &amp; FAQ</h1> </div> <div class="projectSubpage" style="display: <?= TabPageSelected(2) ?>"> <h1>Issues</h1> </div> <div class="projectSubpage" style="display: <?= TabPageSelected(3) ?>"> <h1>Downloads</h1> </div> <div class="projectSubpage" style="display: <?= TabPageSelected(4) ?>"> <h1>Version History</h1> <?php           $curl = curl_init();          curl_setopt_array($curl, [         CURLOPT_URL => 'https://api.github.com/repos/TobiHatti/'.$project["GithubID"].'/releases',         CURLOPT_USERAGENT => 'Endev-Web Github API Link',         CURLOPT_TIMEOUT => 30,         CURLOPT_RETURNTRANSFER => 1,         CURLOPT_HTTPHEADER => array(             'Authorization: token '.getenv("GithubOAuth")         )         ]);                                       
                                                                                                     
                                                            
                                 
                                       
                                                                
              
         $status_code = curl_getinfo($curl, CURLINFO_HTTP_CODE);                                     
         $response = json_decode(curl_exec($curl));          var_dump($response);          foreach($response as $release):                    try         {             $tmp = $release->url;             $requestValid = true;             echo "VALID!!!";         }         catch(Exception $ex)         {             $requestValid = false;             echo "NOT VALID!!!";         }                  ?> <?php              $downloadCount = 0;             foreach($release->assets as $asset) $downloadCount += $asset->download_count;         ?> <div class="versionBox"> <div class="tagInfo"> <?php if($release->prerelease): ?> <span class="prerelease">Pre-release</span> <?php else: ?> <span class="release">Release</span> <?php endif; ?> <span class="tag"><i class="fas fa-tag"></i> <?= $release->tag_name ?></span> <span class="commit"><i class="fas fa-neuter"></i> 1238df32</span> </div> <div class="generalInfo"> <a href="<?= $release->html_url ?>" target="_blank"><b><?= $release->name ?></b></a> <span>Released by <a href="<?= $release->author->html_url ?>" target="_blank"><?= $release->author->login ?></a>. Downloaded <?= $downloadCount ?> times.</span> <x-md> <?php                      $parsedown = new Parsedown();                     $parsedown->setSafeMode(true);                     echo $parsedown->text($release->body);                     ?> </x-md> <a class="githubBtn" href="<?= $release->html_url ?>" target="_blank"><i class="fab fa-github"></i> View on GitHub</a> <hr /> <strong>Assets:</strong> <ul class="assets"> <?php foreach($release->assets as $asset): ?> <li><a href="<?= $asset->browser_download_url ?>"><i class="fas fa-cubes"></i> <?= $asset->name ?></a></li> <?php endforeach; ?> <li><a href="<?= $release->zipball_url ?>"><i class="far fa-file-archive"></i> Source code (zip)</a></li> <li><a href="<?= $release->tarball_url ?>"><i class="far fa-file-archive"></i> Source code (tar.gz)</a></li> </ul> </div> </div> <?php endforeach; ?> </div> <div class="projectSubpage" style="display: <?= TabPageSelected(5) ?>"> <h1>Readme (GitHub)</h1> <x-md> <?php              $parsedown = new Parsedown();             $parsedown->setSafeMode(true);             echo $parsedown->text(file_get_contents("https://raw.githubusercontent.com/TobiHatti/".$project["GithubID"]."/master/README.md"));             ?> </x-md> </div> <div class="projectSubpage" style="display: <?= TabPageSelected(6) ?>"> <h1>Technical Information</h1> </div> <div class="projectSubpage" style="display: <?= TabPageSelected(7) ?>"> <h1>Licence</h1> <?= nl2br(htmlspecialchars(file_get_contents("https://raw.githubusercontent.com/TobiHatti/".$project["GithubID"]."/master/LICENSE"))) ?> </div> </div> </main> <a href="#top"><div class="navigateToTop"><i class="fas fa-chevron-up"></i></div></a> <footer> </footer> </body> </html>